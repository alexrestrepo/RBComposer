#tag WindowBegin Window Window1   BackColor       =   16777215   Backdrop        =   ""   CloseButton     =   True   Composite       =   False   Frame           =   0   FullScreen      =   False   HasBackColor    =   False   Height          =   480   ImplicitInstance=   True   LiveResize      =   True   MacProcID       =   0   MaxHeight       =   32000   MaximizeButton  =   False   MaxWidth        =   32000   MenuBar         =   820475035   MenuBarVisible  =   True   MinHeight       =   64   MinimizeButton  =   True   MinWidth        =   64   Placement       =   0   Resizeable      =   True   Title           =   "More Frames!!!"   Visible         =   True   Width           =   840   Begin RelationalFrames.RelationalFramesCanvas frames      AcceptFocus     =   ""      AcceptTabs      =   ""      AutoDeactivate  =   True      Backdrop        =   ""      DoubleBuffer    =   False      Enabled         =   True      EraseBackground =   True      Height          =   464      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Left            =   0      LockBottom      =   True      LockedInPosition=   False      LockLeft        =   True      LockRight       =   True      LockTop         =   True      Scope           =   1      scrollx         =   0      scrolly         =   0      TabIndex        =   0      TabPanelIndex   =   0      TabStop         =   True      Top             =   0      UseFocusRing    =   True      Visible         =   True      Width           =   624   End   Begin Canvas Canvas1      AcceptFocus     =   ""      AcceptTabs      =   ""      AutoDeactivate  =   True      Backdrop        =   ""      DoubleBuffer    =   False      Enabled         =   True      EraseBackground =   True      Height          =   480      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Left            =   640      LockBottom      =   True      LockedInPosition=   False      LockLeft        =   False      LockRight       =   True      LockTop         =   True      Scope           =   0      TabIndex        =   1      TabPanelIndex   =   0      TabStop         =   True      Top             =   0      UseFocusRing    =   True      Visible         =   True      Width           =   200      Begin StaticText StaticText1         AutoDeactivate  =   True         Bold            =   True         DataField       =   ""         DataSource      =   ""         Enabled         =   True         Height          =   20         HelpTag         =   ""         Index           =   -2147483648         InitialParent   =   "Canvas1"         Italic          =   ""         Left            =   652         LockBottom      =   ""         LockedInPosition=   False         LockLeft        =   True         LockRight       =   True         LockTop         =   True         Multiline       =   ""         Scope           =   0         Selectable      =   False         TabIndex        =   0         TabPanelIndex   =   0         Text            =   "Title"         TextAlign       =   0         TextColor       =   0         TextFont        =   "SmallSystem"         TextSize        =   0         TextUnit        =   0         Top             =   14         Transparent     =   False         Underline       =   ""         Visible         =   True         Width           =   66      End      Begin TextField frameTitle         AcceptTabs      =   ""         Alignment       =   0         AutoDeactivate  =   True         BackColor       =   16777215         Bold            =   ""         Border          =   True         CueText         =   ""         DataField       =   ""         DataSource      =   ""         Enabled         =   True         Format          =   ""         Height          =   22         HelpTag         =   ""         Index           =   -2147483648         InitialParent   =   "Canvas1"         Italic          =   ""         Left            =   652         LimitText       =   0         LockBottom      =   ""         LockedInPosition=   False         LockLeft        =   True         LockRight       =   True         LockTop         =   True         Mask            =   ""         Password        =   ""         ReadOnly        =   ""         Scope           =   0         TabIndex        =   1         TabPanelIndex   =   0         TabStop         =   True         Text            =   ""         TextColor       =   0         TextFont        =   "SmallSystem"         TextSize        =   0         TextUnit        =   0         Top             =   38         Underline       =   ""         UseFocusRing    =   True         Visible         =   True         Width           =   168      End      Begin Listbox frameContents         AutoDeactivate  =   True         AutoHideScrollbars=   True         Bold            =   ""         Border          =   True         ColumnCount     =   1         ColumnsResizable=   ""         ColumnWidths    =   ""         DataField       =   ""         DataSource      =   ""         DefaultRowHeight=   40         Enabled         =   True         EnableDrag      =   ""         EnableDragReorder=   ""         GridLinesHorizontal=   0         GridLinesVertical=   0         HasHeading      =   ""         HeadingIndex    =   -1         Height          =   335         HelpTag         =   ""         Hierarchical    =   ""         Index           =   -2147483648         InitialParent   =   "Canvas1"         InitialValue    =   ""         Italic          =   ""         Left            =   652         LockBottom      =   True         LockedInPosition=   False         LockLeft        =   True         LockRight       =   True         LockTop         =   True         RequiresSelection=   ""         Scope           =   0         ScrollbarHorizontal=   ""         ScrollBarVertical=   True         SelectionType   =   0         TabIndex        =   2         TabPanelIndex   =   0         TabStop         =   True         TextFont        =   "SmallSystem"         TextSize        =   0         TextUnit        =   0         Top             =   96         Underline       =   ""         UseFocusRing    =   True         Visible         =   True         Width           =   168         _ScrollWidth    =   -1      End      Begin StaticText StaticText2         AutoDeactivate  =   True         Bold            =   True         DataField       =   ""         DataSource      =   ""         Enabled         =   True         Height          =   20         HelpTag         =   ""         Index           =   -2147483648         InitialParent   =   "Canvas1"         Italic          =   ""         Left            =   652         LockBottom      =   ""         LockedInPosition=   False         LockLeft        =   True         LockRight       =   True         LockTop         =   True         Multiline       =   ""         Scope           =   0         Selectable      =   False         TabIndex        =   3         TabPanelIndex   =   0         Text            =   "Contents"         TextAlign       =   0         TextColor       =   0         TextFont        =   "SmallSystem"         TextSize        =   0         TextUnit        =   0         Top             =   72         Transparent     =   False         Underline       =   ""         Visible         =   True         Width           =   66      End      Begin PushButton PushButton1         AutoDeactivate  =   True         Bold            =   ""         Cancel          =   ""         Caption         =   "Add Text Object"         Default         =   ""         Enabled         =   True         Height          =   20         HelpTag         =   ""         Index           =   -2147483648         InitialParent   =   "Canvas1"         Italic          =   ""         Left            =   674         LockBottom      =   True         LockedInPosition=   False         LockLeft        =   False         LockRight       =   True         LockTop         =   False         Scope           =   0         TabIndex        =   4         TabPanelIndex   =   0         TabStop         =   True         TextFont        =   "SmallSystem"         TextSize        =   0         TextUnit        =   0         Top             =   443         Underline       =   ""         Visible         =   True         Width           =   124      End   End   Begin ScrollBar ScrollBar1      AcceptFocus     =   true      AutoDeactivate  =   True      Enabled         =   True      Height          =   463      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Left            =   624      LineStep        =   1      LiveScroll      =   True      LockBottom      =   True      LockedInPosition=   False      LockLeft        =   False      LockRight       =   True      LockTop         =   True      Maximum         =   1000      Minimum         =   0      PageStep        =   20      Scope           =   0      TabIndex        =   2      TabPanelIndex   =   0      TabStop         =   True      Top             =   0      Value           =   0      Visible         =   True      Width           =   16   End   Begin ScrollBar ScrollBar2      AcceptFocus     =   true      AutoDeactivate  =   True      Enabled         =   True      Height          =   16      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Left            =   0      LineStep        =   1      LiveScroll      =   True      LockBottom      =   True      LockedInPosition=   False      LockLeft        =   True      LockRight       =   True      LockTop         =   False      Maximum         =   1000      Minimum         =   0      PageStep        =   20      Scope           =   0      TabIndex        =   3      TabPanelIndex   =   0      TabStop         =   True      Top             =   464      Value           =   0      Visible         =   True      Width           =   624   EndEnd#tag EndWindow#tag WindowCode#tag EndWindowCode#tag Events frames	#tag Event		Sub Open()		  dim cf as new ContentFrame(50, 53, 114, "Diagonal")		  cf.AppendObject new TextObject("Width")		  cf.AppendObject new TextObject("Height")		  cf.AppendObject new TextObject("Input blah")		  cf.AppendObject new TextObject("Foo")		  cf.AppendObject new TextObject("Bar")		  me.AddFrame cf		  		  cf = new ContentFrame(400, 53, 114, "Rect", false)		  cf.AppendObject new TextObject("Width: 114")		  cf.AppendObject new TextObject("Height: no idea!")		  me.AddFrame cf		  		  		  cf = new ContentFrame(220, 153, 114, "Round Rect...", &c0B2F91)		  cf.AppendObject new TextObject("Input 1")		  cf.AppendObject new TextObject("Input 2")		  me.AddFrame cf		  		  dim imacPic as Picture = NewPicture(32,32,32)		  imacPic.Graphics.DrawPicture imac, 0, 0, 32, 32, 0, 0, 32, 32		  imacPic.Mask.Graphics.DrawPicture imac, 0, 0, 32, 32, 32, 0, 32, 32		  		  cf = new ContentFrame(220, 223, 114, "How to...", false)		  cf.AppendObject new TextObject("Click and drag from the outlets on the right (outputs)->")		  cf.AppendObject new TextObject("<- to any other frame's inputs, on the left")		  cf.AppendObject new PictureObject(imacPic)		  me.AddFrame cf		  me.SelectFrame(cf)		  		  cf = new ContentFrame(400, 223, 154, "Dummy!", &c911906)		  cf.AppendObject new TextObject("Blah blah blah")		  cf.AppendObject new PictureObject(imacPic)		  me.AddFrame cf		  		  me.frames(0).contents(0).addOutputObject(me.frames(1).contents(0))		  me.frames(0).contents(1).addOutputObject(me.frames(2).contents(0))		  me.frames(2).contents(0).addOutputObject(me.frames(1).contents(1))		  me.frames(3).contents(0).addOutputObject(me.frames(4).contents(1))		End Sub	#tag EndEvent	#tag Event		Function ShouldAllowLink(fromObject as ContentObject, toObject as ContentObject) As Boolean		  // allow all links!		  Return true		End Function	#tag EndEvent	#tag Event		Sub FrameSelected(frame as contentFrame)		  Canvas1.Enabled = Frame <> nil		  		  frameContents.DeleteAllRows		  if Frame = nil then		    frameTitle.text = "Nothing selected"		    Return		  end if		  		  frameTitle.text = frame.title		  		  for each obj as contentObject in frame.contents		    if obj isa TextObject then		      frameContents.AddRow TextObject(obj).text		      		    elseif obj isa PictureObject then		      frameContents.AddRow ""		      		    Else		      frameContents.AddRow "Unknown obj..."		      		    end if		    		    frameContents.CellTag(frameContents.LastIndex, 0) = obj		  next		End Sub	#tag EndEvent	#tag Event		Function MouseWheel(X as integer, Y as integer, deltaX as integer, deltaY as Integer) As Boolean		  ScrollBar1.Value = ScrollBar1.Value + deltay		  ScrollBar2.Value = ScrollBar2.Value + deltax		End Function	#tag EndEvent#tag EndEvents#tag Events frameTitle	#tag Event		Sub TextChange()		  if Frames.selectedFrame = nil then Return		  frames.selectedFrame.title = me.Text		  Frames.Refresh(False)		End Sub	#tag EndEvent#tag EndEvents#tag Events frameContents	#tag Event		Sub DoubleClick()		  if me.ListIndex < 0 then Return		  		  if me.CellTag(me.ListIndex, 0) isa TextObject then		    me.EditCell(me.ListIndex, 0)		    me.ActiveCell.SelectAll		  end if		End Sub	#tag EndEvent	#tag Event		Function CellBackgroundPaint(g As Graphics, row As Integer, column As Integer) As Boolean		  if row >= me.ListCount  then Return False		  		  if me.CellTag(row, 0) isa PictureObject then		    dim po as PictureObject = me.CellTag(row, 0)		    g.DrawPicture po.image, (g.Width - po.image.Width) / 2, (g.Height - po.image.Height) / 2		    Return true		  end if		End Function	#tag EndEvent	#tag Event		Sub CellAction(row As Integer, column As Integer)		  dim obj as textObject = me.CellTag(row, 0)		  obj.text = me.cell(row, column)		  frames.Refresh(False)		End Sub	#tag EndEvent#tag EndEvents#tag Events PushButton1	#tag Event		Sub Action()		  dim obj as new TextObject("Hello World!")		  		  frames.selectedFrame.AppendObject(obj)		  frameContents.AddRow(obj.text)		  frameContents.CellTag(frameContents.LastIndex, 0) = obj		  		  Frames.Refresh(False)		  		End Sub	#tag EndEvent#tag EndEvents#tag Events ScrollBar1	#tag Event		Sub ValueChanged()		  Frames.Scrolly = me.Value		End Sub	#tag EndEvent#tag EndEvents#tag Events ScrollBar2	#tag Event		Sub ValueChanged()		  frames.Scrollx = me.Value		End Sub	#tag EndEvent#tag EndEvents